/* ================================================
   TRANSLATIONS - Barcha tillar
   ================================================ */

const translations = {
    uz: {
        // Navbar
        'nav.home': 'Bosh sahifa',
        'nav.about': 'Kafedra haqida',
        'nav.teachers': "O'qituvchilar",
        'nav.subjects': 'Fanlar',
        'nav.news': 'Yangiliklar',
        'nav.gallery': 'Galerya',
        'nav.contact': "Bog'lanish",
        
        // Hero Section
        'hero.university': 'Guliston Davlat Universiteti',
        'hero.faculty': 'Axborot Texnologiyalari Fakulteti',
        'hero.department': 'Amaliy Matematika va Axborot Texnologiyalari Kafedrasi',
        'hero.btn1': 'Kafedra haqida',
        'hero.btn2': "O'qituvchilar",
        
        // Statistics
        'stats.title': 'Kafedraning Statistikasi',
        'stats.teachers': "O'qituvchi",
        'stats.students': 'Talaba',
        'stats.subjects': 'Fan',
        'stats.year': 'Tashkil yili',
        
        // Featured Teachers
        'teachers.featured': "Yetakchi O'qituvchilar",
        'teachers.view-all': "Barcha o'qituvchilarni ko'rish",
        'teachers.detail': 'Batafsil',
        
        // Features
        'features.title': 'Kafedraning Xususiyatlari',
        'features.education': "Zamonaviy Ta'lim",
        'features.education-desc': "Eng yangi ta'lim usullari va texnologiyalar bilan dars berish",
        'features.tech': 'Texnologiya',
        'features.tech-desc': 'Kompyuter laboratoriyasi va zamonaviy texnologiyalar',
        'features.international': 'Xalqaro Hamkorlik',
        'features.international-desc': 'Chet el universitetlari bilan hamkorlik va almashuvlar',
        
        // News
        'news.latest': "So'nggi Yangiliklar",
        'news.view-all': 'Barcha yangiliklar',
        'news.read': "O'qish",
        
        // Footer
        'footer.about': 'Kafedra haqida',
        'footer.about-desc': 'Amaliy Matematika va Axborot Texnologiyalari Kafedrasi - zamonaviy ta\'lim markazi',
        'footer.links': 'Tezkor Havolalar',
        'footer.contact': "Bog'lanish",
        'footer.copyright': '© 2024 Guliston Davlat Universiteti. Barcha huquqlar himoyalangan.',
        
        // About Page
        'about.title': 'Guliston Davlat Universiteti',
        'about.faculty': 'Axborot Texnologiyalari Fakulteti',
        'about.department': 'Amaliy Matematika va Axborot Texnologiyalari Kafedrasi',
        'about.history': 'Kafedraning Tarixi',
        'about.mission': 'Missiyon',
        'about.mission-text': 'Talabalarni zamonaviy matematik va IT bo\'yicha dunyo sifatidagi mutaxassislar qilib tayyorlash, ular orqali jamiyatning raqamli transformatsiyasiga hissa qo\'shish.',
        'about.vision': 'Vizyoni',
        'about.vision-text': 'Markaziy Osiyodan Xalqaro darajadagi ilmiy tadqiqotlar, innovatsiyalar va ta\'limni amalga oshiruvchi baland ta\'limning markazi bo\'lishdir.'
    },
    en: {
        // Navbar
        'nav.home': 'Home',
        'nav.about': 'About Department',
        'nav.teachers': 'Teachers',
        'nav.subjects': 'Subjects',
        'nav.news': 'News',
        'nav.gallery': 'Gallery',
        'nav.contact': 'Contact',
        
        // Hero Section
        'hero.university': 'Guliston State University',
        'hero.faculty': 'Faculty of Information Technology',
        'hero.department': 'Department of Applied Mathematics and Information Technology',
        'hero.btn1': 'About Department',
        'hero.btn2': 'Teachers',
        
        // Statistics
        'stats.title': 'Department Statistics',
        'stats.teachers': 'Teachers',
        'stats.students': 'Students',
        'stats.subjects': 'Subjects',
        'stats.year': 'Founded Year',
        
        // Featured Teachers
        'teachers.featured': 'Featured Teachers',
        'teachers.view-all': 'View All Teachers',
        'teachers.detail': 'Details',
        
        // Features
        'features.title': 'Department Features',
        'features.education': 'Modern Education',
        'features.education-desc': 'Teaching with the latest educational methods and technologies',
        'features.tech': 'Technology',
        'features.tech-desc': 'Computer laboratory and modern technologies',
        'features.international': 'International Cooperation',
        'features.international-desc': 'Partnerships and exchanges with foreign universities',
        
        // News
        'news.latest': 'Latest News',
        'news.view-all': 'All News',
        'news.read': 'Read',
        
        // Footer
        'footer.about': 'About Department',
        'footer.about-desc': 'Department of Applied Mathematics and Information Technology - a center of modern education',
        'footer.links': 'Quick Links',
        'footer.contact': 'Contact',
        'footer.copyright': '© 2024 Guliston State University. All rights reserved.',
        
        // About Page
        'about.title': 'Guliston State University',
        'about.faculty': 'Faculty of Information Technology',
        'about.department': 'Department of Applied Mathematics and Information Technology',
        'about.history': 'Department History',
        'about.mission': 'Mission',
        'about.mission-text': 'To prepare students as world-class specialists in modern mathematics and IT, and to contribute to society\'s digital transformation.',
        'about.vision': 'Vision',
        'about.vision-text': 'To become a center of higher education that conducts international-level scientific research, innovations, and education in Central Asia.'
    },
    ru: {
        // Navbar
        'nav.home': 'Главная',
        'nav.about': 'О кафедре',
        'nav.teachers': 'Преподаватели',
        'nav.subjects': 'Предметы',
        'nav.news': 'Новости',
        'nav.gallery': 'Галерея',
        'nav.contact': 'Контакт',
        
        // Hero Section
        'hero.university': 'Гулистанский Государственный Университет',
        'hero.faculty': 'Факультет информационных технологий',
        'hero.department': 'Кафедра прикладной математики и информационных технологий',
        'hero.btn1': 'О кафедре',
        'hero.btn2': 'Преподаватели',
        
        // Statistics
        'stats.title': 'Статистика кафедры',
        'stats.teachers': 'Преподаватели',
        'stats.students': 'Студенты',
        'stats.subjects': 'Предметы',
        'stats.year': 'Год основания',
        
        // Featured Teachers
        'teachers.featured': 'Ведущие преподаватели',
        'teachers.view-all': 'Все преподаватели',
        'teachers.detail': 'Подробнее',
        
        // Features
        'features.title': 'Особенности кафедры',
        'features.education': 'Современное образование',
        'features.education-desc': 'Обучение с использованием новейших методов и технологий',
        'features.tech': 'Технология',
        'features.tech-desc': 'Компьютерная лаборатория и современные технологии',
        'features.international': 'Международное сотрудничество',
        'features.international-desc': 'Партнерство и обмен с иностранными университетами',
        
        // News,
        
        // About Page
        'about.title': 'Гулистанский Государственный Университет',
        'about.faculty': 'Факультет информационных технологий',
        'about.department': 'Кафедра прикладной математики и информационных технологий',
        'about.history': 'История кафедры',
        'about.mission': 'Миссия',
        'about.mission-text': 'Подготовка студентов как мировых специалистов в области современной математики и IT, внесение вклада в цифровую трансформацию общества.',
        'about.vision': 'Видение',
        'about.vision-text': 'Стать центром высшего образования, проводящим научные исследования, инновации и образование международного уровня в Центральной Азии.'
        'news.latest': 'Последние новости',
        'news.view-all': 'Все новости',
        'news.read': 'Читать',
        
        // Footer
        'footer.about': 'О кафедре',
        'footer.about-desc': 'Кафедра прикладной математики и информационных технологий - центр современного образования',
        'footer.links': 'Быстрые ссылки',
        'footer.contact': 'Контакт',
        'footer.copyright': '© 2024 Гулистанский Государственный Университет. Все права защищены.'
    }
};

// ========================
// LANGUAGE MANAGER
// ========================

class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('kafedra-language') || 'uz';
        this.languageSelect = document.getElementById('languageSelect');
        this.init();
    }

    init() {
        // Set initial language
        this.setLanguage(this.currentLang, false);
        
        if (this.languageSelect) {
            this.languageSelect.value = this.currentLang;
            this.languageSelect.addEventListener('change', (e) => {
                this.setLanguage(e.target.value, true);
            });
        }
    }

    setLanguage(lang, save = true) {
        this.currentLang = lang;
        
        if (save) {
            localStorage.setItem('kafedra-language', lang);
        }
        
        this.updatePageContent();
        
        if (this.languageSelect) {
            this.languageSelect.value = lang;
        }

        // Update HTML lang attribute
        document.documentElement.lang = lang === 'ru' ? 'ru' : lang === 'en' ? 'en' : 'uz';
    }

    updatePageContent() {
        const currentTranslations = translations[this.currentLang];
        
        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (currentTranslations[key]) {
                element.textContent = currentTranslations[key];
            }
        });
        
        // Update innerHTML elements with data-i18n-html attribute
        document.querySelectorAll('[data-i18n-html]').forEach(element => {
            const key = element.getAttribute('data-i18n-html');
            if (currentTranslations[key]) {
                element.innerHTML = currentTranslations[key];
            }
        });
    }

    translate(key) {
        return translations[this.currentLang][key] || key;
    }
}

// Initialize language manager
const languageManager = new LanguageManager();
